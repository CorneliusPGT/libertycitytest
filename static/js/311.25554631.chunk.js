"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[311],{3311:function(n,e,r){r.r(e),r.d(e,{UsersContainer:function(){return k},default:function(){return C}});var t=r(8687),i=r(2791),s=r(1413),u=r(9439),l=r(7689),c=r(1087),o=r(1134),a=r(1640),d=(0,r(6916).P1)((function(n){return n.usersPage.users}),(function(n){return n})),f=function(n){return n.usersPage.pageSize},h=function(n){return n.usersPage.totalCount},j=function(n){return n.usersPage.currentPage},v=function(n){return n.usersPage.isLoading},m=function(n){return n.usersPage.loadFollow},x=function(n){return n.usersPage.filter},p=r(3573),g=r(184),P=function(){var n=(0,t.v9)(d),e=(0,t.v9)(h),r=(0,t.v9)(m),v=(0,t.v9)(f),P=(0,t.v9)(j),Z=(0,t.v9)(x),b=(0,t.I0)(),k=(0,l.s0)(),C=(0,l.TH)(),E=(C.search.search,(0,o.cI)({criteriaMode:"all",defaultValues:{term:Z.term,friend:Z.friend}})),w=E.register,A=E.handleSubmit,S=(E.setError,E.formState.errors,E.reset,E.clearErrors,function(n){b((0,a.aH)(1,v,n))});(0,i.useEffect)((function(){b((0,a.aH)(P,v,Z))}),[]);for(var N=Math.ceil(e/v),y=(0,i.useState)(1),H=(0,u.Z)(y,2),O=H[0],U=H[1],$=(0,i.useState)(10),D=(0,u.Z)($,2),F=D[0],I=D[1],L=(0,i.useState)(P),M=(0,u.Z)(L,2),T=M[0],V=M[1],_=[],q=O;q<=F;q++)_.push(q);return(0,i.useEffect)((function(){k({search:"?term=".concat(Z.term,"&friend=").concat(Z.friend)})}),[Z]),(0,i.useEffect)((function(){var n=p.Z.parse(C.search),e=Z;n.term&&(e=(0,s.Z)((0,s.Z)({},e),{},{term:n.term})),n.friend&&(e=(0,s.Z)((0,s.Z)({},e),{},{friend:"null"===n.friend?"null":"true"===n.friend?"true":"false"})),b((0,a.aH)(P,v,e))}),[]),(0,i.useEffect)((function(){V(P)}),[P]),(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"topUsers",children:[(0,g.jsx)("div",{children:e?(0,g.jsxs)("ul",{className:"pagination",children:[O>1?(0,g.jsx)("button",{onClick:function(){U(O-=10),I(F=O+9)},children:"PREV"}):null,_.map((function(n){return(0,g.jsx)("li",{onClick:function(){!function(n){b((0,a.aH)(n,v,Z))}(n)},className:n===T?"selectedPage":void 0,children:n})})),F<N?(0,g.jsx)("button",{onClick:function(){F+10<=N?(U(O+=10),I(F+=10)):(I(F+=N-F),U(O+=10))},children:"NEXT"}):null]}):(0,g.jsx)("div",{children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})}),(0,g.jsxs)("form",{onSubmit:A((function(n){S(n)})),children:[(0,g.jsx)("div",{children:(0,g.jsx)("input",(0,s.Z)({},w("term")))}),(0,g.jsx)("div",{children:(0,g.jsx)("button",{className:"searchButton",children:"Search"})}),(0,g.jsx)("div",{children:(0,g.jsxs)("select",(0,s.Z)((0,s.Z)({},w("friend")),{},{children:[(0,g.jsx)("option",{value:"null",children:"All"}),(0,g.jsx)("option",{value:"true",children:"Only followed"}),(0,g.jsx)("option",{value:"false",children:"Only unfollowed"})]}))})]})]}),n.map((function(n){return(0,g.jsxs)("div",{children:[(0,g.jsx)(c.OL,{to:"/profile/"+n.id,children:(0,g.jsx)("img",{className:"userAva",src:null==n.photos.small?"https://seeklogo.com/images/P/public-enemy-logo-E860A8D3AD-seeklogo.com.png":n.photos.small})}),(0,g.jsx)("div",{children:(0,g.jsx)("span",{children:n.name})}),(0,g.jsx)("div",{children:(0,g.jsx)("span",{children:n.status})}),(0,g.jsx)("div",{children:n.followed?(0,g.jsx)("button",{disabled:r.some((function(e){return e===n.id})),onClick:function(){var e;e=n.id,b((0,a.km)(e))},children:"Unfollow"}):(0,g.jsx)("button",{disabled:r.some((function(e){return e===n.id})),onClick:function(){var e;e=n.id,b((0,a.P$)(e))},children:"Follow"})})]})}))]})},Z=r(1308);var b=r(7781),k=function(){var n=(0,t.v9)(v);return(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{children:n?(0,g.jsx)("img",{src:Z.Z}):null}),(0,g.jsx)(P,{})]})},C=(0,b.qC)((function(n){return(0,t.$j)((function(n){return{isAuth:n.auth.isAuth}}),{})((function(e){var r=(0,l.s0)();return(0,i.useEffect)((function(){if(!1===e.isAuth)return r("../login")}),[e.isAuth]),(0,g.jsx)(n,(0,s.Z)({},e))}))}),(0,t.$j)(null,{}))(k)}}]);
//# sourceMappingURL=311.25554631.chunk.js.map