"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[456],{3456:function(e,n,t){t.r(n),t.d(n,{default:function(){return m}});var i=t(2791),o=t(9439),s=t(1308),r=t(8687),l=t(2993),a=t(184),u=function(e){var n=(0,i.useState)(!1),t=(0,o.Z)(n,2),s=t[0],u=t[1],c=(0,i.useState)(e.status),d=(0,o.Z)(c,2),h=d[0],x=d[1],f=(0,r.I0)();(0,i.useEffect)((function(){x(e.status)}),[e.status]);return(0,a.jsxs)("div",{children:[!s&&(0,a.jsx)("div",{children:(0,a.jsx)("p",{onDoubleClick:function(){e.actualId===e.authId&&u(!0)},children:e.status})}),s&&(0,a.jsx)("div",{children:(0,a.jsx)("input",{onChange:function(e){x(e.currentTarget.value)},autoFocus:!0,onBlur:function(){u(!1),f((0,l.dw)(h))},value:h})})]})},c=t(5705),d=function(e){var n=e.profile;return(0,a.jsx)(c.J9,{initialValues:n,onSubmit:function(n){e.saveForm(n)},children:function(n){var t=n.values,i=(n.errors,n.touched,n.handleChange);return(0,a.jsxs)(c.l0,{children:[(0,a.jsx)("div",{children:(0,a.jsx)("button",{children:"Save"})}),(0,a.jsx)("div",{children:(0,a.jsx)("input",{onChange:i,value:t.fullName,name:"fullName"})}),(0,a.jsx)("div",{children:(0,a.jsx)("textarea",{onChange:i,value:t.aboutMe,name:"aboutMe"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{onChange:i,id:"lookingForAJob",type:"checkbox",name:"lookingForAJob"}),(0,a.jsx)("label",{htmlFor:"lookingForAJob",children:"Looking for a job"})]}),(0,a.jsx)("div",{children:(0,a.jsx)("textarea",{onChange:i,value:t.lookingForAJobDescription,name:"lookingForAJobDescription"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"Contacts"}),":"," ",(0,a.jsx)(c.F2,{name:"contacts",render:function(){return(0,a.jsx)("div",{children:Object.keys(e.profile.contacts).map((function(e){return(0,a.jsxs)("div",{children:[e,": ",(0,a.jsx)("input",{onChange:i,name:"contacts."+e})]})}))})}})]})]})}})},h=function(e){var n=e.contactTitle,t=e.contactKey;return(0,a.jsxs)("div",{children:[n,": ",t||"unknown"]})},x=t(6697),f=function(e){return(0,a.jsxs)("div",{children:[e.isOwner?(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:e.toEditMode,children:"Edit"})}):null,(0,a.jsx)("h2",{children:e.profile.fullName}),(0,a.jsx)(u,{actualId:e.actualId,authId:e.authId,status:e.status}),(0,a.jsxs)("div",{children:["About me: ",e.profile.aboutMe]}),(0,a.jsxs)("div",{children:["Looking for a job: ",!0===e.profile.lookingForAJob?"YES":"NO"]}),!0===e.profile.lookingForAJob?(0,a.jsxs)("div",{children:["Professional Skills: ",e.profile.lookingForAJobDescription]}):"",(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"Contacts"}),": ",Object.keys(e.profile.contacts).map((function(n){return(0,a.jsx)(h,{contactTitle:n,contactKey:e.profile.contacts[n]})}))]})]})},p=function(e){var n=(0,r.v9)((function(e){return e.profilePage.status})),t=(0,x.T)(),u=(0,i.useState)(!1),c=(0,o.Z)(u,2),h=c[0],p=c[1];return null===e.profile?(0,a.jsx)("div",{children:(0,a.jsx)("img",{src:s.Z})}):(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(0,a.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/ru/c/c3/Liberty_City_screenshot.png"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("img",{className:"avatar",src:null!==e.profile.photos.large?e.profile.photos.large:"https://seeklogo.com/images/P/public-enemy-logo-E860A8D3AD-seeklogo.com.png"}),e.isOwner&&(0,a.jsx)("input",{type:"file",onChange:function(e){var n;null!==(n=e.target.files)&&void 0!==n&&n.length&&t((0,l.hd)(e.target.files[0]))}})]}),(0,a.jsx)("div",{children:h?(0,a.jsx)(d,{status:n,profile:e.profile,authId:e.authId,actualId:e.actualId,saveForm:function(n){var i=e.actualId;t((0,l.c$)({data:n,id:i})),p(!1)}}):(0,a.jsx)(f,{status:n,profile:e.profile,actualId:e.actualId,authId:e.authId,isOwner:e.isOwner,toEditMode:function(){p(!0)}})})]})},j=t(7689),v=function(e){var n,t,i;return(0,a.jsxs)("div",{children:[(0,a.jsx)("img",{src:null!==(n=e.profile)&&void 0!==n&&n.photos.small?null===(t=e.profile)||void 0===t||null===(i=t.photos.small)||void 0===i?void 0:i.toString():"https://seeklogo.com/images/P/public-enemy-logo-E860A8D3AD-seeklogo.com.png",className:"avatarPost"}),e.message,(0,a.jsx)("div",{children:e.likeCount})]})},g=i.memo((function(e){var n=(0,x.T)(),t=(0,x.C)((function(e){return e.profilePage.posts})).map((function(n){return(0,a.jsx)(v,{profile:e.profile,message:n.message,likeCount:n.likeCount})}));return(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:"My posts"}),(0,a.jsx)(c.J9,{initialValues:{postText:""},validate:function(e){var n={};return e.postText||(n.postText="Can't mend a broken heart"),n},onSubmit:function(e,t){var i=t.setSubmitting,o=t.resetForm;n((0,l.q2)(e.postText)),o({}),i(!1)},children:function(e){var n=e.values,t=e.errors,i=e.touched,o=e.handleChange,s=(e.handleBlur,e.handleSubmit),r=e.isSubmitting;return(0,a.jsxs)("form",{onSubmit:s,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("textarea",{onChange:o,value:n.postText,disabled:r,className:t.postText?"errorField":"",name:"postText"}),t&&(0,a.jsx)("div",{className:"errorMessage",children:t.postText&&i.postText&&t.postText})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{children:"Add post"})})]})}}),(0,a.jsx)("div",{children:t})]})})),m=function(){var e=(0,r.I0)(),n=(0,r.v9)((function(e){return e.auth.id})),t=(0,r.v9)((function(e){return e.auth.isAuth})),o=(0,r.v9)((function(e){return e.profilePage.profile})),s=(0,j.UO)().id,u=Number(s),c=!1;return u||(u=n),c=n===u,(0,i.useEffect)((function(){null!==u&&(e((0,l.Ai)(u)),e((0,l.lR)(u)))}),[u]),t?(0,a.jsx)("div",{className:"content",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(p,{profile:o,isOwner:c,actualId:n,authId:u}),(0,a.jsx)(g,{profile:o})]})}):(0,a.jsx)(j.Fg,{to:"/login"})}}}]);
//# sourceMappingURL=456.b0624012.chunk.js.map